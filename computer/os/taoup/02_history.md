# The Art of Unix Programming

## Chapter 2. History

### 2.1 Origins and History of Unix, 1969-1995

#### Genesis: 1969-1971

1. Unix was born in 1969 out of the mind of a computer scientist at Bell Laboratories, Ken Thompson.

2. The standard interactive device on the earliest timesharing systems was the ASR-33 teletype — a slow, noisy device that printed upper-case-only on big rolls of yellow paper. The ASR-33 was the natural parent of the Unix tradition of **terse commands and sparse responses**.

3. When Bell Labs withdrew from the Multics research consortium, Ken Thompson was left with some Multics-inspired ideas about **how to build a file system**. (Question: So how?)

4. Ritchie observes: "What we wanted to preserve was not just a good environment in which to do programming, but a system around which a **fellowship** could form. We knew from experience that the essence of communal computing, as supplied by remote-access, time-shared machines, is not just to type programs into a terminal instead of a keypunch, but to encourage **close communication**".

5. The Unix tradition of **lightweight development and informal methods** also began at its beginning. Where Multics had been a large project with thousands of pages of technical specifications written before the hardware arrived, the first running Unix code was brainstormed by three people and implemented by Ken Thompson in two days.

#### Exodus: 1971–1980

1. The original Unix operating system was written in **assembler**, and the applications in a mix of **assembler and an interpreted language called B**, which had the virtue that it was small enough to run on the PDP-7. But B was not powerful enough for systems programming, so Dennis Ritchie added data types and structures to it.

2. The resulting C language evolved from B beginning in 1971; in 1973 Thompson and Ritchie finally succeeded in rewriting Unix in their new language.

3. A 1974 paper in Communications of the ACM gave Unix its first public exposure.

4. As late as 1979, Ritchie could write: “It seems certain that much of the success of Unix follows from the readability, modifiability, and portability of its software that in turn follows from its expression in high-level languages”, in the knowledge that this was a point that still needed making.

#### TCP/IP and the Unix Wars: 1980-1990

1. The first BSD release had been in 1977 from a lab run by a then-unknown grad student named Bill Joy.

2. The TCP/IP implementation was released with Berkeley 4.2 in 1983.

3. 1982 was also the year that C first showed signs of establishing itself outside the Unix world as the **systems-programming language** of choice. It would only take about five years for C to drive machine assemblers almost completely out of use. By the early 1990s C and C++ would dominate not only systems but application programming; by the late 1990s all other conventional compiled languages would be effectively obsolete.

4. The death of the MIT AI Lab's PDP-10-centered hacker culture motivated a programmer named Richard Stallman to begin writing **GNU**, a complete free clone of Unix.

5. In 1983, the U.S. Department of Justice won its second antitrust case against AT&T and **broke up the Bell System**. This relieved AT&T from the 1958 consent decree that had prevented them from turning Unix into a product. AT&T promptly rushed to **commercialize Unix System V** — a move that nearly killed Unix.

6. To make matters worse, the big new players in the Unix market promptly committed major strategic blunders.
    - One was to seek advantage by **product differentiation** — a tactic which resulted in the interfaces of different Unixes diverging. This threw away cross-platform compatibility and fragmented the Unix market.
    - The other, subtler error was to behave as if personal computers and Microsoft were irrelevant to Unix's prospects.

7. A programmer/linguist named Larry Wall quietly invented the patch(1) utility. The patch program, a simple tool that applies changebars generated by diff(1) to a base file, meant that Unix developers could cooperate by passing around patch sets — incremental changes to code — rather than entire code files. This was important not only because patches are less bulky than full files, but because patches would often apply cleanly even if much of the base file had changed since the patch-sender fetched his copy. With this tool, streams of development on a common source-code base could diverge, run in parallel, and re-converge. The patch program did more than any other single tool to enable collaborative development over the Internet — a method that would revitalize Unix after 1990.

> Question: I don't understand the importance of patch?

8. In 1985 Intel shipped the first 386 chip, capable of addressing 4 gigabytes of memory with a flat address space.

9. 1985 was also the year that Richard Stallman issued the **GNU manifesto** and launched the **Free Software Foundation**.

10. In 1985, the originators of the **X window system** released it as source code without royalties, restrictions, or license code. As a direct result of this decision, it became a safe neutral area for collaboration between Unix vendors, and defeated proprietary contenders to become Unix's graphics engine.

11. Serious **standardization** efforts aimed at reconciling the System V and Berkeley APIs also began in 1983 with the /usr/group standard. This was followed in 1985 by the **POSIX standards**, an effort backed by the IEEE.

12. In 1986 Larry Wall began work on **Perl**, which would become the first and most widely used of the open-source scripting languages. In early 1987 the first version of the **GNU C compiler** appeared, and by the end of 1987 the core of the GNU toolset was falling into place: editor, compiler, debugger, and other basic development tools. Meanwhile, the **X windowing system** was beginning to show up on relatively inexpensive workstations. Together, these would provide the armature for the open-source Unix developments of the 1990s.

13. The 1990 release of Windows 3.0 — the first successful graphical operating system from Redmond — cemented Microsoft's dominance, and created the conditions that would allow them to flatten and monopolize the market for desktop applications in the 1990s.

14. The years from 1989 to 1993 were the **darkest** in Unix's history. It appeared then that all the Unix community's dreams had failed.

#### Blows against the Empire: 1991-1995

1. The first glimmer of light in the darkness was the 1990 effort by William Jolitz to port BSD onto a 386 box, publicized by a series of magazine articles beginning in 1991.

2. In August 1991 Linus Torvalds, then an unknown university student from Finland, announced the Linux project.

3. It would take another two years and the great Internet explosion of 1993–1994 before the true importance of Linux and the open-source BSD distributions became evident to the rest of the Unix world. Unfortunately for the BSDers, an AT&T lawsuit against BSDI consumed much of that time and motivated some key Berkeley developers to **switch to Linux**.

4. By late 1993, Linux had both Internet capability and X. The entire GNU toolkit had been hosted on it from the beginning, providing high-quality development tools.

### 2.2 Origins and History of the Hackers, 1961-1995

#### At Play in the Groves of Academe: 1961-1980

1. The roots of the hacker culture can be traced back to 1961, the year MIT took delivery of its first PDP-1 minicomputer. The PDP-1 was one of the earliest interactive computers, and of the day was inexpensive enough that time on it did not have to be rigidly scheduled. It attracted a group of curious students from the **Tech Model Railroad Club** who experimented with it in a spirit of fun.

2. Several of the TMRC experimenters later went on to become core members of the MIT Artificial Intelligence Lab, which in the 1960s and 1970s became one of the world centers of cutting-edge computer science. They took some of TMRC's slang and in-jokes with them, including a tradition of **elaborate (but harmless)** pranks called “hacks”.

#### Internet Fusion and the Free Software Movement: 1981-1991

1. In 1983 Stallman founded the GNU project, aimed at writing an entire free operating system.

2. In 1985, RMS published the GNU Manifesto. And he also wrote the General Public License (GPL).

3. Although RMS's Free Software Foundation had produced most of the rest of a full software toolkit, it failed to deliver the central piece. Ten years after the founding of the GNU project, there was still **no GNU kernel**. While individual tools like Emacs and GCC proved tremendously useful, GNU without a kernel neither threatened the hegemony of proprietary Unixes nor offered an effective counter to the rising problem of the Microsoft monopoly.

#### Linux and the Pragmatist Reaction: 1991-1998

1. Linus Torvalds neatly **straddled** the GPL/anti-GPL divide by using the GNU toolkit to surround the Linux kernel he had invented and the GPL's infectious properties to protect it, but **rejecting the ideological program that went with RMS's license**. Torvalds affirmed that **he thought free software better in general but occasionally used proprietary programs**. His refusal to be a zealot even in his own cause made him tremendously attractive to the majority of hackers who had been uncomfortable with RMS's rhetoric, but had lacked any focus or convincing spokesperson for their skepticism.

2. In 1995, Linux found its killer app: **Apache**, the open-source webserver. Like Linux, Apache proved remarkably stable and efficient. Linux machines running Apache quickly became the platform of choice for ISPs worldwide; Apache captured about 60% of websites, handily beating out both of its major proprietary competitors.

3. Why Linux's development had not collapsed in confusion years before: "**Given a sufficiently large number of eyeballs, all bugs are shallow.**"

4. For most hackers and almost all nonhackers, "**Free software because it works better**" easily trumped "Free software because all software should be free".

5. In early 1998, the new thinking helped motivate Netscape Communications to release the source code of its Mozilla browser.

### 2.3 The Open-Source Movement: 1998 and Onward

1. By the time of the Mozilla release in 1998, the hacker community could best be analyzed as a loose collection of factions or tribes that included Richard Stallman's Free Software Movement, the Linux community, the Perl community, the Apache community, the BSD community, the X developers, the Internet Engineering Task Force (IETF), and at least a dozen others. These factions overlap, and an individual developer would be quite likely to be affiliated with two or more.

2. In March of 1998 an unprecedented summit meeting of community influence leaders representing almost all of the major tribes convened to consider common goals and tactics. That meeting adopted a new label for the common development method of all the factions: **open source**.

3. "Open source" was explicitly intended to replace Stallman's preferred "free software" with a public label that was ideologically neutral, acceptable both to historically opposed groups like the BSD hackers and those who did not wish to take a position in the GPL/anti-GPL debate.
