# 《TCP/IP 详解 卷1》阅读笔记

## 第1章 概述

### 1.2 分层

1. 应用程序通常是一个用户进程，而下三层则一般在（操作系统）内核中执行。（Question：为什么下三层要在内核中执行？）

2. TCP/IP 协议族 != TCP/IP
    - TCP/IP 协议族是一组不同的协议组合在一起构成的协议族。尽管通常称该协议族为 TCP/IP，但TCP和IP只是其中的两种协议而已。
    - TCP/IP 协议族的另一个名字是 Internet 协议族（Internet Protocol Suite）

3. 一个互连网（internet）就是一组通过**相同**协议族互连在一起的网络。

4. 为什么需要区分网络层和运输层？
    - 网络层和运输层分别负责不同的功能。网络层IP提供的是一种不可靠的服务，它只是尽可能快地把分组从源结点送到目的结点，但是并不提供任何可靠性保证。而TCP在不可靠的IP层上提供了一个可靠的运输层。
    - 补充：应用程序和运输层使用端到端（End-to-end）协议，只有端系统需要这两层协议。而网络层提供的却是逐跳（Hop-by-hop）协议，两个端系统和每个中间系统都要使用它。

5. 主机 vs 路由器
    - 一个路由器具有两个或多个网络接口层（因为它连接了两个或多个网络）。
    - 一个主机也可以有多个接口，但一般不称作路由器，除非它的功能只是单纯地把分组从一个接口传送到另一个接口。
    - 路由器并不一定指那种在互联网中用来转发分组的特殊硬件盒。大多数的 TCP/IP 实现也允许一个多接口主机来担当路由器的功能，但是主机为此必须进行特殊的配置。

6. 互联网的目的之一是在应用程序中隐藏所有的物理细节。物理细节的隐藏使得互联网功能非常强大，也非常有用。

### 1.3 TCP/IP 的分层

1. 一些使用 TCP 的应用：Telnet、FTP、SMTP

2. 一些使用 UDP 的应用：DNS、TFTP（简单文件传送协议）、BOOTP（引导程序协议）、SNMP

3. ICMP 是 IP 协议的附属协议。IP 层用它来与其他主机或路由器交换错误报文和其他重要信息。尽管 ICMP 主要被 IP 使用，但应用程序也有可能访问它，如 Ping 和 Traceroute 都使用了 ICMP。

4. IGMP 是 Internet 组管理协议。它用来把一个 UDP 数据报多播到多个主机。而广播是指把一个UDP数据报发送到某个指定网络上的所有主机。
