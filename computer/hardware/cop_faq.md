# 计算机组成原理 FAQ

## Q1 2019/05/25 CPU是如何工作的？

### 问题详述

CPU在执行指令时，是如何保证它按照取指、译码、执行、访存、写回等步骤循环进行的？发生中断时，CPU需要与中断控制器交互，然后根据中断向量找到中断处理例程的入口，并且需要将ss/esp/eflags/cs/eip等压栈，还有判断是否切换特权级，这一系列复杂的操作，CPU是如何做到的？

### 思考过程

1. 这一系列复杂的操作，是否像软件那样已经编成一段指令，每次直接逐句执行？还是设计好硬件电路，直接提供输入数据及相关信号，就能完成类似中断处理这样的操作？

2. 不妨采用由简到繁的策略，首先分析CPU具有哪些功能、做了哪些事情，然后将这些功能按从简单到复杂的顺序排序，逐个分析。

3. CPU的功能用一句话概括就是：执行指令。包括中断处理，无非就是执行一条"INT n"的指令。那么，我要理解CPU的工作原理，只需理解CPU执行指令的原理。CPU执行指令一般分为5个步骤：取指、译码、执行、访存、写回。那么CPU是如何完成这5个步骤的呢？
    - 为什么CPU会周而复始地执行一条条指令？这个是如何设计的？猜想：应该是时钟芯片每个周期产生一个时钟信号，处理器收到时钟信号后就执行1个步骤。
    - 如何保证CPU每次都是按照这个顺序执行5个步骤？
